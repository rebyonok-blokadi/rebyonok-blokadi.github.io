<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>РЕБЁНОК БЛОКАДЫ</title>
<link rel="stylesheet" href="style.css">
<style>
  /* Дополнительный стиль для блока подкаста */
  #podcast-block {
    display: none;
    text-align: center;
    margin-bottom: 20px;
  }
  #popup-img {
    max-width: 100%;
    max-height: 400px;
    border-radius: 8px;
    margin-bottom: 15px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.5);
  }
  #popup-audio {
    width: 100%;
    filter: invert(100%); /* Чтобы плеер лучше смотрелся на темном фоне */
  }
</style>
</head>

<body>

  <header class="header">
    <div class="header-inner">
      <h1 class="title">
        РЕБЁНОК БЛОКАДЫ:<br>
        МАЛЕНЬКИЙ ЧЕЛОВЕК В БОЛЬШОМ ИСПЫТАНИИ
      </h1>
      <div class="lead">
        <p>Перед вами дом в блокадном Ленинграде.</p>
        <p>Окна дома заклеены крест-накрест, чтобы снизить воздействие ударной волны на стекло.</p>
        <p><strong>За каждым окном — память.</strong></p>
        <p class="invite">Приглашаем вас открыть истории этого дома!</p>
        <p>Начните со входа в парадную. Поднимайтесь по этажам — шаг за шагом.</p>
        <p><strong>Коснитесь окна — и позвольте памяти заговорить.</strong></p>
      </div>
      <div class="audio">
        <button class="audio-btn" id="audioBtn" type="button">Включить звук</button>
        <audio id="bgAudio" loop preload="auto">
          <source src="audio/wind.mp3" type="audio/mpeg">
        </audio>
      </div>
    </div>
  </header>

  <main class="main">
    <section class="scene">
      <div class="wrapper">
        <img src="house.jpg" class="house" id="house" alt="Дом в блокадном Ленинграде">

        <div class="hotspot" style="top:28.06%; left:93.33%;" onclick="openPopup('silent')"><div class="highlight"></div></div>
        <div class="hotspot" style="top:27.83%; left:81.56%;" onclick="openPopup('silent')"><div class="highlight"></div></div>
        <div class="hotspot" style="top:27.6%; left:69.38%;" onclick="openPopup('silent')"><div class="highlight"></div></div>
        <div class="hotspot" style="top:27.6%; left:57.05%;" onclick="openPopup('silent')"><div class="highlight"></div></div>
        <div class="hotspot" style="top:27.53%; left:44.83%;" onclick="openPopup('silent')"><div class="highlight"></div></div>
        <div class="hotspot" style="top:27.68%; left:29.72%;" onclick="openPopup('silent')"><div class="highlight"></div></div>
        <div class="hotspot" style="top:28.13%; left:18.00%;" onclick="openPopup('silent')"><div class="highlight"></div></div>

        <div class="hotspot" style="top:38.68%; left:17.89%;" onclick="openPopup('floor3_window1')"><div class="highlight"></div></div>
        <div class="hotspot" style="top:38.53%; left:30.00%;" onclick="openPopup('floor3_window2')"><div class="highlight"></div></div>
        <div class="hotspot" style="top:38.29%; left:44.83%;" onclick="openPopup('floor3_window3')"><div class="highlight"></div></div>
        <div class="hotspot" style="top:38.29%; left:57.05%;" onclick="openPopup('floor3_window4')"><div class="highlight"></div></div>
        <div class="hotspot" style="top:38.45%; left:69.49%;" onclick="openPopup('floor3_window5')"><div class="highlight"></div></div>
        <div class="hotspot" style="top:38.68%; left:81.33%;" onclick="openPopup('floor3_window6')"><div class="highlight"></div></div>
        <div class="hotspot" style="top:38.68%; left:92.67%;" onclick="openPopup('floor3_window7')"><div class="highlight"></div></div>

        <div class="hotspot" style="top:50.30%; left:18.00%;" onclick="openPopup('floor2_window1')"><div class="highlight"></div></div>
        <div class="hotspot" style="top:49.95%; left:29.94%;" onclick="openPopup('floor2_window2')"><div class="highlight"></div></div>
        <div class="hotspot" style="top:49.95%; left:44.72%;" onclick="openPopup('floor2_window3')"><div class="highlight"></div></div>
        <div class="hotspot" style="top:49.95%; left:56.94%;" onclick="openPopup('floor2_window4')"><div class="highlight"></div></div>
        <div class="hotspot" style="top:50.26%; left:68.94%;" onclick="openPopup('floor2_window5')"><div class="highlight"></div></div>
        <div class="hotspot" style="top:50.30%; left:81.00%;" onclick="openPopup('floor2_window6')"><div class="highlight"></div></div>
        <div class="hotspot" style="top:50.53%; left:92.22%;" onclick="openPopup('floor2_window7')"><div class="highlight"></div></div>

        <div class="hotspot" style="top:62.14%; left:18.00%;" onclick="openPopup('floor1_window1')"><div class="highlight"></div></div>
        <div class="hotspot" style="top:62.14%; left:30.00%;" onclick="openPopup('floor1_window2')"><div class="highlight"></div></div>
        <div class="hotspot" style="top:62.07%; left:44.67%;" onclick="openPopup('floor1_window3')"><div class="highlight"></div></div>
        <div class="hotspot" style="top:62.14%; left:56.89%;" onclick="openPopup('floor1_window4')"><div class="highlight"></div></div>
        <div class="hotspot" style="top:62.14%; left:68.89%;" onclick="openPopup('floor1_window5')"><div class="highlight"></div></div>
        <div class="hotspot" style="top:62.30%; left:80.89%;" onclick="openPopup('floor1_window6')"><div class="highlight"></div></div>
        <div class="hotspot" style="top:62.22%; left:92.00%;" onclick="openPopup('floor1_window7')"><div class="highlight"></div></div>

        <div class="hotspot" style="top:73.46%; left:29.89%; width:8%; height:13%;" onclick="openPopup('entrance')"><div class="highlight"></div></div>
      </div>
    </section>
  </main>

  <div class="popup" id="popup" onclick="closePopup()">
    <div class="popup-content" onclick="event.stopPropagation()">
      <button class="popup-close" onclick="closePopup()">×</button>
      <h3 id="popup-title"></h3>

      <iframe id="popup-iframe" style="display:none" width="100%" height="450" frameborder="0" allowfullscreen></iframe>

      <div id="podcast-block">
        <img id="popup-img" src="" alt="Фото к подкасту">
        <audio id="popup-audio" controls preload="auto"></audio>
      </div>

      <p id="popup-description" style="margin-top:20px; text-align: left;"></p>
    </div>
  </div>

<canvas id="snow"></canvas>

<script>
const windowsData = {
  // 4 ЭТАЖ (Заглушка)
  "silent": {
    title: "Окно пока молчит",
    description: "Но оно обязательно откроется — и воспоминания оживут."
  },

  // 3 ЭТАЖ - ПОДКАСТ
  "floor3_window1": {
    title: "Ребёнок блокады: Алентина Яковлевна",
    description: "Новый год - это время чудес. И приближающийся 2026 год - не исключение. А случилось нечто поистине невероятное: спустя 80 лет после блокады Ленинграда из Санкт‑Петербурга в город Нефтекумск Ставропольского края прибыла посылка для Алентины Яковлевны Комаровой. Однако главное чудо ждало впереди: юнармейцы, обучающиеся ГБОУ гимназия №209 «Павловская гимназия» Центрального района Санкт-Петербурга, смогли не только поздравить ветерана, но и пообщаться со свидетелем блокады - той самой маленькой девочкой Алей. Юнармейцы поздравили Алентину Яковлевну с наступающим Новым годом и Рождеством! Прощаясь, пообещали быть всегда на связи. Встречу подготовили и провели юнармейцы отряда «Высота209»: Галоян Аида, Соколова Настя, Васильев Фёдор, Гончарова Софья и учителя ГБОУ гимназия №209 «Павловская гимназия» Центрального района Санкт-Петербурга: руководитель проекта «Ребёнок блокады: Маленький человек в большом испытании» Варсонова Дарья Александровна и куратор юнармейского отряда «Высота 209» Горькавенко Галина Валентиновна.",
    audio: "podcast.mp3",
    image: "komarova.jpg"
  },

  "floor3_window2": {
    title: "История моей семьи в истории Родины. Пышный Владислав, обучающийся ГБОУ гимназия №209 «Павловская гимназия» Центрального района Санкт-Петербурга",
    description: "Вера Николаевна, прабабушка Владислава Пышного, во время блокады Ленинграда работала детским врачом в городе. Её воспоминания скоро оживут.",
    image: "vrach.jpg"
  },

  //okna
  entrance: {
    title: "Выпуск №1. Начало большого разговора",
    description:
      "28 октября 2025 года мы встретились с ветеранами Санкт-Петербургской общественной организации «Жители блокадного Ленинграда» и поговорили об их детстве. Так зародился цикл передач Ребенок блокады: Маленький человек в большом испытании, который состоит из 15 выпусков.",
    video: "https://vkvideo.ru/video_ext.php?oid=-133320449&id=456241549&hd=3"
  },

  /* ===== 1 ЭТАЖ ===== */
  floor1_window1: {
    title: "Выпуск №2. Героический подвиг мамы",
    description:
      "История Маргариты Ильиничны",
    video: "https://vk.com/video_ext.php?oid=-133320449&id=456241555&hash=99eb8b11f8755e3e&hd=3"
  },

  floor1_window2: {
    title: "Выпуск №3. Скорее бы воскресенье",
    description:
      "История Германа Александровича",
    video: "https://vk.com/video_ext.php?oid=-133320449&id=456241561&hash=63d7ba0ddb5ef0b3&hd=3"
  },

  floor1_window3: {
    title: "Выпуск №4. Кукла",
    description:
      "История Нины Федоровны",
    video: "https://vk.com/video_ext.php?oid=-133320449&id=456241565&hash=cc4f608d861537e5&hd=3"
  },

  floor1_window4: {
    title: "Выпуск №5. История Елены Сергеевны",
    description: `Основные аспекты выпуска:
    1. "Всегда хочу, чтобы за мной была стена"
    2. Детский дом и эвакуация на Алтай
    3. "Цените ваших учителей"
    4. "Мы знали, что такое копать грядки"
    5. "Мы стараемся многие вещи не рассказывать"
    6. Витамины — лук и еловые ветки
    7. Дорога жизни
    8. 46 зажигалок за один день
    9. "Что помогало вам выживать?"`,
    video: "https://vk.com/video_ext.php?oid=-133320449&id=456241566&hash=2dcc04ad55237081&hd=3"
},

  floor1_window5: {
    title: "Выпуск №6. Ёлки в блокадном Ленинграде",
    description:
      "История Германа Александровича",
    video: "https://vk.com/video_ext.php?oid=-133320449&id=456241573&hash=6f8862ab10ccf6e5&hd=3"
  },

  floor1_window6: {
    title: "Выпуск №7. Нити жизни ",
    description:
      "",
    video: "https://vk.com/video_ext.php?oid=-133320449&id=456241589&hash=e7bbd7cebfc8a7c4&hd=3"
  },

  floor1_window7: {
    title: "Выпуск №8. Как добыть ёлку?",
    description:
      "История Леры Ивановны",
    video: "https://vk.com/video_ext.php?oid=-133320449&id=456241591&hash=4df6546b0be87917&hd=3"
  },

  /* ===== 2 ЭТАЖ ===== */
  floor2_window1: {
      title: "Выпуск №9. Когда главным было сохранить жизнь",
      description: `Основные аспекты выпуска:
      — Бомбоубежище
      — Детская больница им. К. А. Раухфуса
      — Санитарно-эпидемиологическая обстановка
      — Эвакуация детей
      — Блокадные дневники`,
    video: "https://vk.com/video_ext.php?oid=-133320449&id=456241593&hash=5e8fc8ce77ebb735&hd=3"
  },

  floor2_window2: {
    title: "Выпуск №10. Ленинград: эвакуация и возвращение в родной город",
    description:
      "История Ирмы Александровны",
    video: "https://vk.com/video_ext.php?oid=-133320449&id=456241596&hash=0abb65551b1936ea&hd=3"
  },

  floor2_window3: {
    title: "Выпуск №11. Какой момент Вам запомнился больше всего?",
    description:
      "История Елены Сергеевны",
    video: "https://vk.com/video_ext.php?oid=-133320449&id=456241597&hash=35286294c95c6809&hd=3"
  },

  floor2_window4: {
    title: "Выпуск №12. Деятельность Санкт-Петербургской общественной организации «Жители блокадного Ленинграда»",
    description:
      "Елена Сергеевна поделилась также воспоминаниями о воссозданном полевом госпитале № 817 в деревне Дусьево Ленинградской области. Рядом с госпиталем воссоздан фрагмент железнодорожной линии Войбокало — Кобона, построенной зимой 1942 года для ускорения движения по Дороге жизни. За 25 дней было возведено 35 километров пути силами отрядов Ленметростроя и трёх женских батальонов, несмотря на обстрелы, морозы и метели. ",
    video: "https://vk.com/video_ext.php?oid=-133320449&id=456241598&hash=b6243401f3d2bab7&hd=3"
  },

  floor2_window5: {
    title: "Выпуск №13. Как выжил Ленинград: медицина, быт, небо, люди",
    description:
      "Выпуск объединяет разные стороны жизни блокадного Ленинграда: аптека в блокадном Ленинграде, работа санпостов, ЖАКТов и экспонаты музея общественной организации. Ветераны расскажут о налётах на город и авиационном полке Балтийского флота, о людях, тушивших зажигательные бомбы на крышах, о путях эвакуации. Отдельная часть — о том, как сегодня найти сведения о родственниках, живших в блокадном Ленинграде.",
    video: "https://vk.com/video_ext.php?oid=-133320449&id=456241607&hash=683c30dd9ee63b00&hd=3"
  },

  floor2_window6: {
    title: "Выпуск №14. Главный элемент - мужество",
    description:
       `В чём заключался ужас блокады?
        Голод, холод, отсутствие воды в квартирах.
        Представьте себе: вы входите в парадную — там нет ни света, ни звука.
        Жители использовали самодельные маячки-фонарики, а в качестве дров — всё, чем можно было обогреть комнату.
        Но всё это нужно было добывать.
        Для приготовления пищи использовали почти всю «систему Менделеева».
        Но главным элементом было мужество.
        Герман Александрович сказал во время беседы:
        «Если вы теряли мужество — через неделю вы умирали».`,
    video: "https://vk.com/video_ext.php?oid=-133320449&id=456241608&hash=8543b9eccdeb262e&hd=3"
  },

  floor2_window7: {
    title: "Выпуск №15. «Конечно, всё было очень тяжело. Но пережили»",
    description:
      "История Елены",
    video: "https://vkvideo.ru/video_ext.php?oid=-222015834&id=456239105&hd=3"
  },

  /* ===== 3 ЭТАЖ — НИКИТА ВЛАДИМИРОВИЧ БЛАГОВО ===== */
  floor3_window3: {
    title: "Выпуск №1. «День начала блокады врезался в память очень сильной картиной»",
    description:
      `История Никиты Владимировича Благово, руководителя Музея истории школы Карла Мая
      В центре внимания — не только повседневный быт, но и вопросы воспитания ребёнка, проявление нравственной стойкости и сохранение человеческого достоинства в условиях катастрофы. `,
    video: "https://vkvideo.ru/video_ext.php?oid=-222015834&id=456239109&hd=3"
  },

  floor3_window4: {
    title: "Выпуск №2. Два самых тяжелых дня ",
    description:
      `История Никиты Владимировича Благово, руководителя Музея истории школы Карла Мая
      История о школьных годах, опыте советско-финской войне, эвакуации, работе детей на заводах, об отказе ведения дневников и воспоминания о двух самых тяжёлых днях.
      * Никита Владимирович называет в выпуске дату: 1 октября 2025 года.
      1.10.2025 года в ГБОУ гимназия №209 «Павловская гимназия» открылся Книжный фестиваль.
      Больше информации о мероприятии: https://vk.com/pamyatidelo`,
    video: "https://vkvideo.ru/video_ext.php?oid=-222015834&id=456239106&hd=3"
  },
  floor3_window5: {
    title: "Выпуск №3. «Занимайтесь историей своей школы»",
    description:
      `История Никиты Владимировича Благово, руководителя Музея истории школы Карла Мая
      Возвращение из эвакуации, жизнь с отцом, учеба на Васильевском острове в школе №5, блокадная этика, воспоминания о блокаде, отличающиеся друг от друга, деятельность музея истории школы Карла Мая представляют отдельные аспекты жизни и памяти.`,
    video: "https://vkvideo.ru/video_ext.php?oid=-222015834&id=456239107&hd=3"
  },

  floor3_window6: {
    title: "Выпуск №4. Зачем нужен музей: воспитание, деятельность и общественный интерес",
    description:
      `История Никиты Владимировича Благово, руководителя Музея истории школы Карла Мая
      В этом видео мы вспоминаем, как Никите Владимировичу запомнилось 9 мая и какую роль играли радиоприёмники. Рассматриваем мотивацию создавать музей, его воспитательную роль и влияние на формирование ценностей у детей. Обсуждаем востребованность музеев и необходимость сохранения культурного наследия. Это видео о том, как история, личные воспоминания и музейная практика объединяются для образования, воспитания и сохранения памяти.`,
    video: "https://vkvideo.ru/video_ext.php?oid=-222015834&id=456239110&hd=3"
  },

  floor3_window7: {
    title: "Выпуск №5. От идеи до книги: история творческого становления",
    description:
      `История Никиты Владимировича Благово, руководителя Музея истории школы Карла
      В этом видео Никита Владимирович рассказывается, почему он начал писать книги и какие личные и семейные обстоятельства повлияли на его творческий выбор.
      В беседе поднимается вопрос: Какие форматы и мероприятия уместны для разговора о блокаде? Обсуждаются особенности воспитания людей ушедшей эпохи, а также отношение Никиты Владимировича к такой черте характера, как необязательность. Видео объединяет размышления о памяти, воспитании и личной ответственности — о том, как прошлое влияет на выбор человека в настоящем.`,
    video: "https://vkvideo.ru/video_ext.php?oid=-222015834&id=456239111&hd=3"
  }
};

function openPopup(key) {
    const data = windowsData[key];
    if(!data) return;

    const iframe = document.getElementById("popup-iframe");
    const podcastBlock = document.getElementById("podcast-block");
    const audio = document.getElementById("popup-audio");
    const img = document.getElementById("popup-img");

    document.getElementById("popup-title").innerText = data.title;
    document.getElementById("popup-description").innerText = data.description || "";

    // Скрываем всё перед выбором контента
    iframe.style.display = "none";
    iframe.src = "";
    podcastBlock.style.display = "none";
    audio.src = "";

    if (data.audio) {
        // Если это ПОДКАСТ
        podcastBlock.style.display = "block";
        audio.src = data.audio;
        img.src = data.image || "";
    } else if (data.video) {
        // Если это ВИДЕО
        iframe.style.display = "block";
        iframe.src = data.video;
    } else if (data.image) {
        // Если просто ФОТО (как во 2 окне 3 этажа)
        podcastBlock.style.display = "block";
        img.src = data.image;
        audio.style.display = "none";
    }

    document.getElementById("popup").classList.add("active");

    // Глушим фоновый звук ветра, если он играет
    if (audioOn) bgAudio.pause();
}

function closePopup() {
    const iframe = document.getElementById("popup-iframe");
    const audio = document.getElementById("popup-audio");

    iframe.src = "";
    audio.pause();
    audio.src = "";

    document.getElementById("popup").classList.remove("active");

    // Возвращаем фоновый звук, если он был включен
    if (audioOn) bgAudio.play();
}

// Фоновый звук
const bgAudio = document.getElementById("bgAudio");
const audioBtn = document.getElementById("audioBtn");
let audioOn = false;

audioBtn?.addEventListener("click", async () => {
    if (!audioOn) {
        bgAudio.play();
        audioOn = true;
        audioBtn.textContent = "Выключить звук";
    } else {
        bgAudio.pause();
        audioOn = false;
        audioBtn.textContent = "Включить звук";
    }
});

const canvas = document.getElementById("snow");
const ctx = canvas.getContext("2d");

function resizeSnow() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
}
resizeSnow();

const flakes = [];
const FLAKES_COUNT = 140;

for (let i = 0; i < FLAKES_COUNT; i++) {
    flakes.push({
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height,
        r: Math.random() * 2.2 + 0.8,
        speed: Math.random() * 0.6 + 0.4
    });
}

let angle = 0;

function drawSnow() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    ctx.beginPath();

    for (const f of flakes) {
        ctx.moveTo(f.x, f.y);
        ctx.arc(f.x, f.y, f.r, 0, Math.PI * 2);
    }

    ctx.fillStyle = "rgba(255,255,255,0.85)";
    ctx.fill();

    angle += 0.01;

    for (const f of flakes) {
        f.y += f.speed * f.speed + 0.5;
        f.x += Math.sin(angle) * 0.3;

        if (f.y > canvas.height + 10) {
            f.y = -10;
            f.x = Math.random() * canvas.width;
        }
    }

    requestAnimationFrame(drawSnow);
}

drawSnow();

window.addEventListener("resize", resizeSnow);

</script>
</body>
</html>






